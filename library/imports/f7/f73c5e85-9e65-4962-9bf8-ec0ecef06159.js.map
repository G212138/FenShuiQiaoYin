{"version":3,"sources":["assets\\game\\scripts\\UI\\Item\\GameUI.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { ListenerManager } from \"../../../../frame/scripts/Manager/ListenerManager\";\r\nimport { SyncDataManager } from \"../../../../frame/scripts/Manager/SyncDataManager\";\r\nimport { Tools } from \"../../../../frame/scripts/Utils/Tools\";\r\nimport { EventType } from \"../../Data/EventType\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class GameUI extends cc.Component {\r\n    @property(cc.Node)\r\n    private rightArea: cc.Node = null;\r\n    @property(cc.Node)\r\n    private shiguanNode: cc.Node[] = [];\r\n    @property(cc.Label)\r\n    private shiguanLabel: cc.Label[] = [];\r\n    @property(cc.Node)\r\n    private btnAddAndSub: cc.Node[] = [];\r\n    @property(cc.Node)\r\n    private btn_xiangji: cc.Node = null;\r\n    @property(cc.Node)\r\n    private btn_tijiao: cc.Node = null;\r\n\r\n    private shiguan_posY = -250;\r\n    private rightArea_posX = 723;\r\n    private shiguan_1: number = 1;\r\n    private shiguan_2: number = 1;\r\n    private shiguan_3: number = 6;\r\n\r\n    private allTrueArr = [[1, 1, 6], [1, 2, 5], [1, 3, 4], [2, 2, 4], [2, 3, 3]];\r\n\r\n    onLoad() {\r\n        ListenerManager.on(EventType.ENTER_GAME, this.handleEnterGame, this);\r\n        ListenerManager.on(EventType.GAME_RECONNECT, this.initUI, this);\r\n    }\r\n\r\n    onDestroy() {\r\n        ListenerManager.off(EventType.ENTER_GAME, this.handleEnterGame, this);\r\n        ListenerManager.off(EventType.GAME_RECONNECT, this.initUI, this);\r\n    }\r\n\r\n    private handleEnterGame() {\r\n\r\n        this.initUI();\r\n        this.gameStartAni();\r\n    }\r\n\r\n    private initUI() {\r\n        this.initShiguan();\r\n        this.updateBtnState();\r\n    }\r\n\r\n    private initShiguan() {\r\n        this.shiguan_1 = SyncDataManager.getSyncData().customSyncData.shiguan_1;\r\n        this.shiguan_2 = SyncDataManager.getSyncData().customSyncData.shiguan_2;\r\n        this.shiguan_3 = SyncDataManager.getSyncData().customSyncData.shiguan_3;\r\n\r\n        this.setShiguan_idle(this.shiguanNode[0], this.shiguan_1);\r\n        this.setShiguan_idle(this.shiguanNode[1], this.shiguan_2);\r\n        this.setShiguan_idle(this.shiguanNode[2], this.shiguan_3);\r\n        this.setShiguan_lbl(this.shiguanLabel[0], this.shiguan_1);\r\n        this.setShiguan_lbl(this.shiguanLabel[1], this.shiguan_2);\r\n        this.setShiguan_lbl(this.shiguanLabel[2], this.shiguan_3);\r\n    }\r\n\r\n    private gameStartAni() {\r\n        this.rightArea.x = 1280;\r\n        for (let i = 0; i < this.shiguanNode.length; i++) {\r\n            this.shiguanNode[i].y = 600;\r\n        }\r\n        this.btn_xiangji.opacity = 0;\r\n        this.btn_tijiao.opacity = 0;\r\n        cc.tween(this.rightArea).to(0.5, { x: this.rightArea_posX }).call(() => {\r\n            cc.tween(this.shiguanNode[0]).to(0.5, { y: this.shiguan_posY }).start();\r\n            cc.tween(this.shiguanNode[1]).delay(0.2).to(0.5, { y: this.shiguan_posY }).start();\r\n            cc.tween(this.shiguanNode[2]).delay(0.4).to(0.5, { y: this.shiguan_posY }).call(() => {\r\n                cc.tween(this.btn_xiangji).to(0.5, { opacity: 255 }).start();\r\n                cc.tween(this.btn_tijiao).to(0.5, { opacity: 255 }).start();\r\n            }).start();\r\n        }).start();\r\n    }\r\n\r\n    private setShiguan_idle(shiguan: cc.Node, num: Number) {\r\n        let aniName = num + \"idle\";\r\n        Tools.playSpine(shiguan.getComponent(sp.Skeleton), aniName, true);\r\n    }\r\n\r\n    private setShiguan_lbl(shiguan: cc.Label, num: Number) {\r\n        shiguan.string = num.toString();\r\n    }\r\n\r\n    private onClickShiguan_1_add() {\r\n        if (this.shiguan_1 >= 6 || this.shiguan_3 < 1) return;\r\n        this.setShiguan_ani(this.shiguanNode[0], this.shiguan_1, this.shiguan_1 + 1);\r\n        this.setShiguan_ani(this.shiguanNode[2], this.shiguan_3, this.shiguan_3 - 1);\r\n        this.shiguan_1++;\r\n        this.shiguan_3--;\r\n        SyncDataManager.getSyncData().customSyncData.shiguan_1 = this.shiguan_1;\r\n        SyncDataManager.getSyncData().customSyncData.shiguan_3 = this.shiguan_3;\r\n        this.updateBtnState();\r\n    }\r\n\r\n    private onClickShiguan_1_sub() {\r\n        if (this.shiguan_3 == 6 || this.shiguan_1 == 1) return;\r\n        this.setShiguan_ani(this.shiguanNode[0], this.shiguan_1, this.shiguan_1 - 1);\r\n        this.setShiguan_ani(this.shiguanNode[2], this.shiguan_3, this.shiguan_3 + 1);\r\n        this.shiguan_1--;\r\n        this.shiguan_3++;\r\n        SyncDataManager.getSyncData().customSyncData.shiguan_1 = this.shiguan_1;\r\n        SyncDataManager.getSyncData().customSyncData.shiguan_3 = this.shiguan_3;\r\n        this.updateBtnState();\r\n    }\r\n\r\n    private onClickShiguan_2_add() {\r\n        if (this.shiguan_2 >= 6 || this.shiguan_3 < 1) return;\r\n        this.setShiguan_ani(this.shiguanNode[1], this.shiguan_2, this.shiguan_2 + 1);\r\n        this.setShiguan_ani(this.shiguanNode[2], this.shiguan_3, this.shiguan_3 - 1);\r\n        this.shiguan_2++;\r\n        this.shiguan_3--;\r\n        SyncDataManager.getSyncData().customSyncData.shiguan_2 = this.shiguan_2;\r\n        SyncDataManager.getSyncData().customSyncData.shiguan_3 = this.shiguan_3;\r\n        this.updateBtnState();\r\n    }\r\n\r\n    private onClickShiguan_2_sub() {\r\n        if (this.shiguan_3 == 6 || this.shiguan_2 == 1) return;\r\n        this.setShiguan_ani(this.shiguanNode[1], this.shiguan_2, this.shiguan_2 - 1);\r\n        this.setShiguan_ani(this.shiguanNode[2], this.shiguan_3, this.shiguan_3 + 1);\r\n        this.shiguan_2--;\r\n        this.shiguan_3++;\r\n        SyncDataManager.getSyncData().customSyncData.shiguan_2 = this.shiguan_2;\r\n        SyncDataManager.getSyncData().customSyncData.shiguan_3 = this.shiguan_3;\r\n        this.updateBtnState();\r\n    }\r\n\r\n    private updateBtnState() {\r\n        this.updateLbl();\r\n        this.btnAddAndSub[1].getChildByName(\"disable\").active = this.shiguan_1 == 1 || this.shiguan_3 == 6;\r\n        this.btnAddAndSub[3].getChildByName(\"disable\").active = this.shiguan_2 == 1 || this.shiguan_3 == 6;\r\n\r\n        this.btnAddAndSub[0].getChildByName(\"disable\").active = this.shiguan_1 == 6 || this.shiguan_3 == 1;\r\n        this.btnAddAndSub[2].getChildByName(\"disable\").active = this.shiguan_2 == 6 || this.shiguan_3 == 1;\r\n    }\r\n\r\n    private updateLbl() {\r\n        this.shiguanLabel[0].string = this.shiguan_1.toString();\r\n        this.shiguanLabel[1].string = this.shiguan_2.toString();\r\n        this.shiguanLabel[2].string = this.shiguan_3.toString();\r\n    }\r\n\r\n    private setShiguan_ani(shiguan: cc.Node, fromNum: Number, toNum: Number) {\r\n        let aniName = fromNum + \"to\" + toNum;\r\n        let idleName = toNum + \"idle\";\r\n        Tools.playSpine(shiguan.getComponent(sp.Skeleton), aniName, false, () => {\r\n            Tools.playSpine(shiguan.getComponent(sp.Skeleton), idleName, true);\r\n        });\r\n    }\r\n\r\n    private onClickShot() {\r\n        let arr = [this.shiguan_1, this.shiguan_2, this.shiguan_3];\r\n        arr.sort((a, b) => {\r\n            return a - b;\r\n        });\r\n        for (let i = 0; i < 3; i++) {\r\n            this.setShiguan_idle(this.shiguanNode[i], arr[i]);\r\n            this.setShiguan_lbl(this.shiguanLabel[i], arr[i]);\r\n        }\r\n        this.shiguan_1 = arr[0];\r\n        this.shiguan_2 = arr[1];\r\n        this.shiguan_3 = arr[2];\r\n    }\r\n\r\n    private onClickSubmit() {\r\n\r\n    }\r\n\r\n}\r\n"]}